\documentclass{standalone}
\usepackage{tikz}
\usetikzlibrary {arrows.meta,graphs,graphdrawing}
\usegdlibrary {layered}
\usetikzlibrary {graphs,graphdrawing,quotes} \usegdlibrary {force}
\usetikzlibrary {graphs,graphdrawing} \usegdlibrary {trees}
\usetikzlibrary{arrows}
\usetikzlibrary{shapes}
\usetikzlibrary{er}
\usetikzlibrary{quotes}
\usepackage[T1]{fontenc}
\catcode`\_=12 % change catcode of "_" to "other" (no. 12)
\begin{document}
\newbox\underlinebox


%\tikzset{entity/.style={draw,rectangle}}
\tikzset{every relationship/.style={}}

\tikzset{total/.style={double distance=1.5pt}}
\tikzset{derived attribute/.style={attribute,dashed}}
%\tikzset{attribute/.style={draw,ellipse}}
\tikzset{multi attribute/.style={attribute,double distance=1.5pt}}
\tikzset{weak entity/.style={entity,double}}
\tikzset{
				key attribute/.append style={
								font=\rmfamily,
								execute at begin node={%
												\setbox\underlinebox=\hbox\bgroup
								},
								execute at end node={%
												\egroup\underline{\box\underlinebox}%
								}
				}
}
\tikzset{pics/supsetarc/.style={code={
				\draw (-0.1,0.15) to[out=0,in=0,looseness=3]    (-0.1,-0.15);}},
				pics/subsetarc/.style={code={
				\draw (0.1,0.15) to[out=180,in=180,looseness=3]    (0.1,-0.15);}},
				supset/.style={to path={(\tikztostart) -- 
				pic[pos=0.5,sloped,allow upside down] {supsetarc} (\tikztotarget)}},
				subset/.style={to path={(\tikztostart) -- 
pic[pos=0.5,sloped,allow upside down] {subsetarc} (\tikztotarget)}}}


\tikzset{
				%every attribute/.append style={fill=black!10,draw=black},
				every relationship/.append style={fill=black!5,draw=black},
				every entity/.append style={fill=black!5,draw=black},
%every entity/.append style={fill=blue!20,draw=blue,thick},
%every relationship/.append style={fill=orange!20,draw=orange,thick,aspect=1.5},
}

\tikz[line width=1.1pt,font={\fontsize{9pt}{12}\selectfont}]
\graph [random seed=10,layered layout,sibling distance=2.5cm,grow'=down]
{
				// [spring layout,node distance=6cm] {
								PUBLICACAO[entity] -- {
												Titulo[attribute,regardless at={(3.5,8.7)}], 
												Tempo_leitura[attribute],
												Ultima_modificacao[attribute], 
												Palavras_chave[multi attribute], 
												Imagem_principal[attribute,regardless at={(3.7,6.3)}], 
												Subtitulo[attribute,regardless at={(3.5,9.7)}],
												pubTexto[as=Texto,attribute,regardless at={(-2.5,6.3)}],
												Timestamp_obtencao[attribute,nudge left=0.7cm],
												PAGINAURL[as=URL,key attribute,nudge right=1cm], 
								},
				},
				// [layered layout, sibling distance=0.1cm,grow=right] {
								AUTOR[entity] -- {
								Descricao[attribute], pPalavras_chave[as=Palavras_chave,multi attribute]},
				},
				%PAGINA[entity] -- {
				%PAGINAURL[as=URL,key attribute], 
				%},
				// [tree layout, sibling distance=0.1cm,grow'=left] {
								PORTAL[entity] -- {
												Logo[attribute], NomePortal[as=Nome,attribute], URL[key attribute],
								},
				},
				COMENTARIO[entity,regardless at={(0.5,-3.2)}] -- {
								ID[key attribute], Texto[attribute,nudge right=1.1cm]
				},
				// [node distance=0.2cm] {
								PESSOA[entity] -- {
												NomePessoa[as=Nome,attribute], AUTOR_URL[as=URL,key attribute], Imagem_perfil[attribute]
								},
				},
				PUBLICACAO --[total,edge label=1,pos=0.95] "ESTA_EM"[relationship] --[edge label=N,pos=0.25] PORTAL,
				PUBLICACAO --[edge label=N,pos=0.95] "ESCRITA_POR"[relationship] --[edge label=N,pos=0.15] AUTOR,
				%PAGINA --[supset] PUBLICACAO,
				AUTOR --[subset] PESSOA,
				PUBLICACAO --[edge label=N,pos=0.95] POSSUI[relationship] --[total,edge label=1,pos=0.05] COMENTARIO;
				COMENTARIO --[edge label=1,total,pos=0.75] "ESCREVE"[relationship,nudge left=0.3cm] --[edge label=N,pos=0.25] PESSOA;
				COMENTARIO --[out=-130,in=125,edge label=1,pos=0.75] "RESPONDE"[relationship,regardless at={(0.5,-5.7)}] --[edge label=N,out=65,in=-40,pos=0.25] COMENTARIO;
};

\end{document}
